resources:
  - "@type": type.googleapis.com/envoy.config.cluster.v3.Cluster
    name: passthrough-https
    type: ORIGINAL_DST
    connectTimeout: 10s
    lbPolicy: CLUSTER_PROVIDED
  - "@type": type.googleapis.com/envoy.config.cluster.v3.Cluster
    name: ext-authz
    type: STRICT_DNS
    connect_timeout: 1s
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: ext-authz
      endpoints:
        - lb_endpoints:
          - endpoint:
              address:
                socket_address:
                  protocol: TCP
                  address: auth-service
                  port_value: 7070
  - "@type": type.googleapis.com/envoy.config.cluster.v3.Cluster
    name: 50b26e75-c0d8-4648-bb8b-f53e1c7e9857
    connect_timeout: 5s
    type: STRICT_DNS
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: 50b26e75-c0d8-4648-bb8b-f53e1c7e9857
      endpoints:
        - lb_endpoints:
          - endpoint:
              address:
                socket_address:
                  protocol: TCP
                  address: "localhost"
                  port_value: 6060
  - "@type": type.googleapis.com/envoy.config.cluster.v3.Cluster
    name: aa443514-303f-458f-a436-0e4e3f6f137a
    connect_timeout: 5s
    type: STRICT_DNS
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: aa443514-303f-458f-a436-0e4e3f6f137a
      endpoints:
        - lb_endpoints:
          - endpoint:
              address:
                socket_address:
                  protocol: TCP
                  address: "localhost"
                  port_value: 6060
  - "@type": type.googleapis.com/envoy.config.cluster.v3.Cluster
    name: passthrough
    type: ORIGINAL_DST
    connectTimeout: 10s
    lbPolicy: CLUSTER_PROVIDED
    original_dst_lb_config:
      use_http_header: true